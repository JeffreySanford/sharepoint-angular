<div class="app-container">
  <!-- Header with Material 3 toolbar -->
  <mat-toolbar color="primary" class="app-header">
    <mat-icon class="header-icon">timeline</mat-icon>
    <span class="header-title">{{ title }}</span>
    <span class="spacer"></span>
    <button mat-fab 
            color="accent" 
            class="refresh-button"
            (click)="refreshData()"
            [disabled]="isLoading"
            matTooltip="Refresh Data">
      <mat-icon>refresh</mat-icon>
    </button>
  </mat-toolbar>

  <!-- Main content with Material 3 cards -->
  <div class="content-container">
    
    <!-- Loading state -->
    <div *ngIf="isLoading" class="loading-container">
      <mat-card class="loading-card">
        <mat-card-content>
          <div class="loading-content">
            <mat-spinner color="primary"></mat-spinner>
            <p class="loading-text">Loading server status...</p>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Status cards -->
    <div *ngIf="!isLoading" class="status-grid">
      
      <!-- Server Uptime Card -->
      <mat-card class="status-card uptime-card" appearance="outlined">
        <mat-card-header>
          <div mat-card-avatar class="uptime-avatar">
            <mat-icon class="avatar-icon">schedule</mat-icon>
          </div>
          <mat-card-title>Server Uptime</mat-card-title>
          <mat-card-subtitle>System availability duration</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <div class="metric-display">
            <div class="metric-value" *ngIf="uptime$ | async as uptimeData">
              {{ formatUptime(uptimeData.uptime) }}
            </div>
            <mat-chip-listbox class="status-chips">
              <mat-chip-option selected>
                <mat-icon matChipAvatar>check_circle</mat-icon>
                Online
              </mat-chip-option>
            </mat-chip-listbox>
          </div>
        </mat-card-content>

        <mat-divider></mat-divider>
        
        <mat-card-actions align="end">
          <button mat-button color="primary">
            <mat-icon>info</mat-icon>
            Details
          </button>
        </mat-card-actions>
      </mat-card>

      <!-- Current Time Card -->
      <mat-card class="status-card time-card" appearance="outlined">
        <mat-card-header>
          <div mat-card-avatar class="time-avatar">
            <mat-icon class="avatar-icon">access_time</mat-icon>
          </div>
          <mat-card-title>Current Time</mat-card-title>
          <mat-card-subtitle>Server timestamp</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <div class="metric-display">
            <div class="metric-value" *ngIf="currentTime$ | async as timeData">
              {{ formatTime(timeData.time) }}
            </div>
            <mat-chip-listbox class="status-chips">
              <mat-chip-option selected>
                <mat-icon matChipAvatar>sync</mat-icon>
                Live
              </mat-chip-option>
            </mat-chip-listbox>
          </div>
        </mat-card-content>

        <mat-divider></mat-divider>
        
        <mat-card-actions align="end">
          <button mat-button color="primary">
            <mat-icon>schedule</mat-icon>
            Timezone
          </button>
        </mat-card-actions>
      </mat-card>

    </div>

    <!-- Teams Messages Section -->
    <div *ngIf="!isLoading" class="teams-section">
      <app-teams-messages></app-teams-messages>
    </div>

    <!-- Additional Status Info -->
    <mat-card class="info-card" appearance="outlined" *ngIf="!isLoading">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>info</mat-icon>
          System Information
        </mat-card-title>
      </mat-card-header>
      
      <mat-card-content>
        <div class="info-grid">
          <div class="info-item">
            <mat-icon class="info-icon">api</mat-icon>
            <div class="info-text">
              <span class="info-label">API Status</span>
              <span class="info-value">Active</span>
            </div>
          </div>
          
          <div class="info-item">
            <mat-icon class="info-icon">update</mat-icon>
            <div class="info-text">
              <span class="info-label">Auto Refresh</span>
              <span class="info-value">Every 5 seconds</span>
            </div>
          </div>
          
          <div class="info-item">
            <mat-icon class="info-icon">cloud</mat-icon>
            <div class="info-text">
              <span class="info-label">Environment</span>
              <span class="info-value">Development</span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

  </div>
</div>
